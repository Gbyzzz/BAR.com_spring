<mat-dialog-content>
  <div class="container-fluid">
    <div class="text-center font-weight-bold"><h1>Add new cocktail recipe</h1></div>

    <form [formGroup]="cocktailForm">

      <div class="row">
        <div class="col-sm-8">
          <label class="labels">
            Name:
          </label>
          <input type="text" required name="name" [(ngModel)]="newCocktailName" width="20%" class="form-control"
                 formControlName="cocktailName"/>
        </div>
        <div class="col-sm-4">

          <div class="form-group">
            <label for="file">File</label>
            <input
              formControlName="cocktailImageFile"
              id="file"
              type="file"
              name="image"
              class="form-control"
              [(ngModel)]="newCocktailImage"
              (change)="onFileChange($event)">
          </div>

        </div>
      </div>

      <div class="row mt-5 mb-5">
        <div class="col-sm-8">
          <label for="recipe">Recipe:</label>
          <textarea [(ngModel)]="newCocktailRecipe" required class="form-control" formControlName="cocktailRecipe"
                    rows="9" id="recipe" name="recipe"></textarea>
        </div>
        <div class="col-sm-4">
          <img class="mx-auto d-block img-fluid" [src]="imageSrc" *ngIf="imageSrc" style="height: 250px; width:400px">
        </div>
      </div>
      <div style="width:40%;">
        <div class="">
          <div class="col-lg-12">
            <div class="text-center font-weight-bold"><h3>Add ingredients:</h3></div>

            <div id="row">
              <div class="input-group m-3" formArrayName="ingredientsRecipe">
                <div class="input-group m-3"
                     *ngFor="let ingredientsRecipe of ingredientsRecipe().controls; let i = index"
                     [formGroupName]="i">
                  <select class="btn-light mr-0" [(ngModel)]="selectedIngredient[i]"
                          (ngModelChange)="onSelectChange($event, i)" formControlName="ingredientSelect">
                    <option *ngFor="let ingredient of ingredients"
                            [selected]="selectedIngredient[i].ingredientName === ingredient.ingredientName">
                      {{ingredient.ingredientName}}
                    </option>
                  </select>
                  <input type="text" name="quantity" class="form-control m-input" [(ngModel)]="selectedQuantity[i]"
                         formControlName="quantity">
                  <input type="text" class="form-control m-input" style="width:5px" [value]="selectedUnit[i]" disabled>
                  <div class="input-group-prepend">
                    <button class="btn btn-danger" (click)="removeIngredientsRecipe(i)" type="button">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x"
                           viewBox="0 0 16 16">
                        <path
                          d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>


            <div id="newinput"></div>
            <button id="rowAdder" type="button"
                    class="btn btn-outline-dark" (click)="addIngredientsRecipe()">
              ADD
            </button>
            <br>
            <h5>Haven't found required ingredient?</h5>
            <button type="button" class="btn btn-dark" (click)="openAddDialog()">
              Add New Ingredient
            </button>
          </div>
        </div>
      </div>


      <div class="text-center">
        <p>
          <button type="submit" class="btn btn-outline-dark m-5"
          (click)="onSubmit()">
            Save cocktail
          </button>
        </p>
      </div>

    </form>
  </div>
</mat-dialog-content>
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--<form [formGroup]="cocktailForm">-->
<!--  <input formControlName="cocktailName">-->
<!--  <input formControlName="cocktailImageFile">-->
<!--  <input formControlName="cocktailRecipe">-->
<!--  <div formArrayName="ingredientsRecipe" *ngFor="let ingredientsRecipe of ingredientsRecipe().controls; let i=index" [formGroupName]="i">-->
<!--    <select formControlName="ingredientSelect" >-->
<!--      <option *ngFor="let ingredient of ingredients"></option>-->
<!--    </select>-->
<!--    <input formControlName="quantity">-->
<!--    <button (click)="removeIngredientsRecipe(i)"></button>-->
<!--  </div>-->
<!--</form>-->
